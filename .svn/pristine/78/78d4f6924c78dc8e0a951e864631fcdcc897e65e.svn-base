<template>
  <div class="cu-carousel-item" v-show="type === 'card' ? true : current === instance.uid">
    <slot></slot>
  </div>
</template>

<script setup lang="ts">
import { getCurrentInstance, inject, onBeforeMount } from 'vue';
import '../style/css';

defineOptions({
  name: 'CuCarouselItem'
});
const instance = getCurrentInstance()!;

const setItem = inject<Function | null>('carousel:setItem', null);
const current = inject<number>('carousel:current');
const type = inject<number>('carousel:type');

onBeforeMount(() => {
  setItem && setItem(instance.uid);
});
</script>
