<template>
  <li class="cu-dropdown-item" :class="{ divider, disabled }" @click="itemHandleClick">
    <div>
      <i class="prefix-icon" :class="icon" v-if="icon"></i>
      <slot></slot>
    </div>
  </li>
</template>

<script setup lang="ts">
import { ref, inject } from 'vue';
import { dropdownItemProps } from './menu-item.props';
defineOptions({
  name: 'CuDropdownItem'
});

interface MenuParent {
  itemClick: Function;
}

const props = defineProps(dropdownItemProps);

const parent = inject<MenuParent>('dowpdown-menu:parent');

function itemHandleClick() {
  if (props.disabled) return;
  parent?.itemClick(props.sign);
}
</script>

<style scoped></style>
