import { h, defineComponent, provide, inject } from 'vue';
import { DROPDOWN_PROVIDE, DROPDOWNMENU_PROVIDE } from './type';
import '../style/dropdown.css';

export default defineComponent({
  name: 'CuDropdownMenu',
  setup(_, { slots }) {
    const { choose } = inject(DROPDOWN_PROVIDE);

    function itemClick(sign?: string) {
      choose(sign);
    }

    provide(DROPDOWNMENU_PROVIDE, {
      itemClick
    });

    return () => {
      return h('ul', { class: 'cu-dropdown-menu' }, slots);
    };
  }
});
