<template>
  <span class="cu-radio-group">
    <slot></slot>
  </span>
</template>

<script setup lang="ts">
import { provide, computed } from 'vue';
import '../style/css';
import useItemValidate from '../../utils/mixin/validate.js';
import { radioGroupProps, radioGroupEmits } from './group.props';
defineOptions({
  name: 'CuRadioGroup'
});

const props = defineProps(radioGroupProps);
const emit = defineEmits(radioGroupEmits);

const { itemValidate } = useItemValidate();

const activeValue = computed(() => {
  return props.modelValue;
});

function changeItemCheck(label: string) {
  emit('update:modelValue', label);
  emit('change', label);

  itemValidate('change');
}

provide('radio:parent', {
  activeValue,
  changeItemCheck
});
</script>
