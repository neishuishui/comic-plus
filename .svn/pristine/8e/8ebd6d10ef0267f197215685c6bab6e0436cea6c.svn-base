
import { createApp, h } from "vue"
import Confirm from './src/main.vue'

interface Props {
  title?: string
  type?: string
  content?: string,
  cancelButtonText?: string,
  confirmButtonText?: string,
  icon?: string,
  color?: string,
  center?: boolean,
  modeClose?: boolean,
  escClose?: boolean,
  distinguishCloseAndCancel: boolean,
  showCancelButton?: boolean,
  showConfirmButton?: boolean,
  showClose?: boolean,
  showIcon?: boolean,
  callback?: Function
}

/**
 * @description: useConfirm
 * @param {Props} options
 * @return {*}
 * @author: 陈龙
 * @logic: 
 */
const useConfirm: Function = (options: Props): void => {
  const confirmElement = document.createElement('div');
  document.body.appendChild(confirmElement);
  const app = createApp({
    render() {
      return h(Confirm, {
        ...options,
        close: () => {
          app.unmount()
          document.body.removeChild(confirmElement)
        }
      });
    },
  });
  app.mount(confirmElement);
};

export { useConfirm }
